<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>Getting Started with Gradle - Mihai Coșăreanu</title>
<meta property="og:title" content="Getting Started with Gradle" />
<meta name="description" content="This guide was created based on the gradle user guide available for version 3.4.1." />
<meta property="og:description" content="This guide was created based on the gradle user guide available for version 3.4.1." />
<meta property="og:site_name" content="Mihai Coșăreanu" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-04-05T05:39:55+03:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Getting Started with Gradle",
    "datePublished": "2017-04-05T05:39:55+03:00",
    "description": "This guide was created based on the gradle user guide available for version 3.4.1.",
    "url": "/getting-started-with-gradle/"
  }
</script>
<!-- End Jekyll SEO tag -->

  
  

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="/getting-started-with-gradle/">
  <link rel="alternate" type="application/rss+xml" title="Mihai Coșăreanu" href="/feed.xml">

</head>

  <body>

    <header class="site-header" role="banner">

  
  

  <nav class="navbar navbar-static-top">
    <div class="container">
      <a class="navbar-brand" href="/">Mihai Coșăreanu</a>
      <button data-target="#main-nav-items" data-toggle="collapse" type="button" class="navbar-toggler hidden-sm-up pull-xs-right collapsed" aria-expanded="false">
        ☰
      </button>
      <div id="main-nav-items" class="navbar-collapse navbar-toggleable-xs collapse" aria-expanded="false">
        <ul class="nav navbar-nav mr-auto">
          
            
              <li class="nav-item">
                <a href="/" class="nav-link">
                  Home
                </a>
              </li>
            
            
          
            
              <li class="nav-item">
                <a href="/about/" class="nav-link">
                  About
                </a>
              </li>
            
            
          
            

              <li class="nav-item dropdown">
                <a id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                  href="" class="nav-link dropdown-toggle">
                  Music
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <!-- 2nd level -->
                  
                    <a class="dropdown-item" href="/my-music-story/">My music story</a>
                  
                </div>
              </li>

            
            
          
            

              <li class="nav-item dropdown">
                <a id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                  href="" class="nav-link dropdown-toggle">
                  Tutorials
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                  <!-- 2nd level -->
                  
                    <a class="dropdown-item" href="/getting-started-with-gradle/">Getting Started with Gradle</a>
                  
                </div>
              </li>

            
            
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    
  <div id="featured-container" class="container-fluid">
    

<img src="/images/tutorials/gradle.png" alt="" srcset="            /assets/resized/480/gradle.png 480w,            /assets/resized/800/gradle.png 800w,            /assets/resized/1200/gradle.png 1200w,    ">
    <div class="featured-overlay">
    </div>
    <div class="featured-text-wrapper">
        <h1>Getting Started with Gradle</h1>
        <p>
            <span class="posted-on">
                <i class="fa fa-calendar"></i>
                05 April 2017
            </span>
            <!-- <span class="author">
                <i class="fa fa-user"></i>
                Mihai Cosareanu
            </span> -->
        </p>
    </div>
</div>



<div class="container">
  <div class="row">
    <div class="col-md-12">
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

        <div class="post-content" itemprop="articleBody">
          <p>This guide was created based on the gradle user guide available for <strong>version 3.4.1</strong>.</p>

<p>I’ve had quite a lot of frustration working with gradle in big projects, especially ones that were organized as many sub-projects, so I started reading the awfully written gradle user guide. As I was reading it I started writing this tutorial, because I realized that there was so little that was actually useful to me as a developer. Hopefully this will be helpful to people who are new to gradle.</p>

<h1 id="gradle">Gradle</h1>

<p><strong>What is gradle?</strong></p>

<p>Gradle is a build tool, similar to Apache Ant or Maven, though it is more powerful. You can specify the project’s dependencies from any repository, manage multiple-project builds, define your own tasks to be run, create plugins for it and lots of other cool stuff.</p>

<p><strong>How is gradle configured?</strong></p>

<p>Gradle loads the configuration properties in this order:</p>

<ol>
  <li><code class="highlighter-rouge">gradle.properties</code> in project build dir.</li>
  <li><code class="highlighter-rouge">gradle.properties</code> in gradle user home.</li>
  <li>system properties, e.g. when <code class="highlighter-rouge">-Dsome.property</code> is set on the command line.</li>
</ol>

<p><strong>What files are read when running a Gradle task?</strong></p>

<p>When running a gradle task from a project or sub-project folder build.gradle and settings.gradle are the files used by gradle to read the project’s task definitions, dependencies and properties. In a multi-project build, the methods and properties of a sub-project <strong>are inherited from the parent project</strong>.</p>

<p><strong>Where are the gradle distributions stored?</strong></p>

<p>It shouldn’t matter to you, but they are stored in <code class="highlighter-rouge">$USER_HOME/.gradle/wrapper/dists</code>.</p>

<h1 id="gradle-wrapper">Gradle Wrapper</h1>

<p><strong>What is gradlew (Gradle Wrapper)?</strong></p>

<p>Gradle wrapper is nothing more than a shell script that downloads and runs the appropriate version of gradle so you don’t have to. This is useful because you can commit gradle wrapper to git and distribute it, so that when you checkout a project you don’t have to manually install the required gradle version. Also it’s very useful for continuous integration machines so that you don’t manage gradle versions on them.</p>

<p><strong>Gradle wrapper files</strong></p>

<p>Gradle wrapper uses the following files (these should be committed to the project’s git):</p>

<ul>
  <li><code class="highlighter-rouge">gradlew</code> (Unix Shell script)</li>
  <li><code class="highlighter-rouge">gradlew.bat</code> (Windows batch file)</li>
  <li><code class="highlighter-rouge">gradle/wrapper/gradle-wrapper.jar</code> (Wrapper JAR)</li>
  <li><code class="highlighter-rouge">gradle/wrapper/gradle-wrapper.properties</code> (Wrapper properties)</li>
</ul>

<p><strong>Always</strong> use gradle wrapper instead of gradle. Simple as that!</p>

<h1 id="gradle-daemon">Gradle Daemon</h1>

<p>Gradle and gradlew by default use a gradle daemon. A gradle daemon is a process running in background that aims to speed up the builds by leveraging caching.</p>

<p>IntelliJ, Eclipse, or other software that uses gradle’s tooling API always use a daemon.</p>

<p>You can have more than one gradle daemon running on the system (for example one from your IDE and one from running <code class="highlighter-rouge">gradlew</code> in terminal).</p>

<p><strong>If you’re having caching problems</strong> such as running inexistent tests (due to checking out another branch in git), you can kill all the gradle daemons and run the task again.</p>

<p><strong>DO</strong> use the gradle daemon in any development environment!<br />
<strong>DO NOT</strong> use the gradle daemon on continuous integration machines. A fresh start is more desirable in order to avoid problems.</p>

<p><code class="highlighter-rouge">./gradlew --status</code> - Gradle daemons status<br />
<code class="highlighter-rouge">./gradlew --stop</code> - Kills all the gradle daemons</p>

<h1 id="the-build-lifecycle">The Build Lifecycle</h1>

<p>The build lifecycle of gradle has three main phases:</p>

<ol>
  <li>Initialization - all existing <code class="highlighter-rouge">settings.gradle</code> files from the sub-project folders are executed and a project instance is created for each one.</li>
  <li>Configuration - The <code class="highlighter-rouge">build.gradle</code> scripts of all projects are executed.</li>
  <li>Execution - determines the subset of tasks and then executes them.</li>
</ol>

<h1 id="gradle-basics">Gradle Basics</h1>

<p>Let’s start with a basic task hierarchy:</p>

<p>
            <div id="gallery" class="gallery" style="display:none;">
                
    

<img src="/images/tutorials/gradle-tasks.png" alt="Task hierarchy example." srcset="            /assets/resized/480/gradle-tasks.png 480w,    " />

            </div>
        </p>

<p>These commands should be everything you need to get started with Gradle:</p>

<ul>
  <li><code class="highlighter-rouge">./gradlew dist test</code> - executes dist and test tasks sequentially. Each task, including its dependencies, is executed only once. In this example compileTest was already run for the dist task, so it won’t be ran again for the test task.</li>
  <li><code class="highlighter-rouge">./gradlew dist -x test</code> - runs dist but excludes test.</li>
  <li><code class="highlighter-rouge">./gradlew di</code> - abbreviation works as long as it’s unique.</li>
  <li><code class="highlighter-rouge">./gradlew dist --continue</code> - execute even when a dependency task fails.</li>
  <li><code class="highlighter-rouge">./gradlew -b anotherBuild.gradle</code> - specify a build file.</li>
  <li><code class="highlighter-rouge">./gradlew -q</code> - quiet flag, logs just the error.</li>
  <li><code class="highlighter-rouge">./gradlew -p project/sub/dir</code> - specify the subdir where to search for tasks.</li>
  <li><code class="highlighter-rouge">./gradlew dist --rerun-tasks</code> - force rerun all tasks.</li>
  <li><code class="highlighter-rouge">./gradlew projects</code> - print the sub-projects in the current folder.</li>
  <li><code class="highlighter-rouge">./gradlew tasks [--all]</code> - print tasks available for current project.</li>
  <li><code class="highlighter-rouge">./gradlew help --task dist</code> - print detailed info about a task’s usage.</li>
  <li><code class="highlighter-rouge">./gradlew dependencies</code> - print project dependency list.</li>
  <li><code class="highlighter-rouge">./gradlew dependencies --configuration testCompile</code> - print dependencies from a specified configuration.</li>
  <li><code class="highlighter-rouge">./gradlew buildEnvironment</code> - print build script dependencies</li>
  <li><code class="highlighter-rouge">./gradlew -q webapp:dependencyInsight --dependency groovy --configuration compile</code> - displays the insight into a specific dependency</li>
  <li><code class="highlighter-rouge">./gradlew properties</code> - displays the sub-projects of root project</li>
  <li><code class="highlighter-rouge">./gradlew dist</code> –profile - profile the build</li>
  <li><code class="highlighter-rouge">./gradlew -m dist test</code> - prints the tasks without running them</li>
  <li><code class="highlighter-rouge">./gradlew dist --no-daemon</code> - do not use the daemon for the build</li>
</ul>

<p>Some of these commands <strong>may not be available</strong> depending on the version of gradle that you are using.</p>

<h1 id="advanced---further-reading">Advanced - Further Reading</h1>

<p>The following advanced topics may come in handy and they are out of the scope of ‘getting started’:</p>

<ul>
  <li>Gradle Plugins</li>
  <li>Dependency management</li>
  <li>Publishing artifacts</li>
  <li>How to configure multi-project builds</li>
  <li>Continuous build</li>
  <li>Composite build</li>
  <li>Writing gradle build scripts</li>
  <li>Increase memory for gradle daemon - better build performance</li>
</ul>

        </div>

        
      </article>
    </div>
  </div>
</div>



    <footer class="site-footer">
  <div class="container">
    <!---->
    <div class="row">
      <div class="col-sm-6">
        <ul class="list-inline" id="social-media-list">
          

          
            <li>
              <a href="https://linkedin.com/in/mihaicosareanu">
                <i class="fa fa-linkedin-square"></i>
              </a>
            </li>
          

          
            <li>
              <a href="https://www.facebook.com/mihaicosareanu">
                <i class="fa fa-facebook-official" aria-hidden="true"></i>
              </a>
            </li>
          

          
            <li>
              <a href="https://www.youtube.com/mihaicosareanu">
                <i class="fa fa-youtube" aria-hidden="true"></i>
              </a>
            </li>
          
        </ul>
      </div>
      <div class="col-sm-6 copyright">
        <span class="text-muted pull-right">&copy; 2015, 2017 Mihai Coșăreanu </span>
      </div>
    </div>
  </div>
</footer>


    <!-- Included Scripts -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/js/bootstrap.min.js" integrity="sha384-VjEeINv9OSwtWFLAtmc4JCtEJXXBub00gtSnszmspDLCtC0I4z4nqz7rEFbIZLLU" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flexslider/2.6.3/jquery.flexslider.min.js"></script>

    <!-- United Gallery Specific -->
    <script type='text/javascript' src='/unitegallery/js/unitegallery.min.js'></script> 
    <script type='text/javascript' src='/unitegallery/themes/tiles/ug-theme-tiles.js'></script> 

    <!-- Main Script -->
    <script src="/assets/index.js" type="text/javascript" charset="utf-8"></script>

    
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-67144820-1', 'auto');
    ga('send', 'pageview');
  </script>
    
  </body>
</html>